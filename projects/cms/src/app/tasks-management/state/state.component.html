<cms-page [title]="'Quản lý State'" [close]="false">
  <div action>
    <a nz-button nzType="primary" routerLink="create"
      ><i nz-icon nzType="plus" nzTheme="outline"></i>
      <span class="d-none d-md-inline-block">Tạo mới</span></a
    >
  </div>
  <div content>
    <div class="my-3 pt-5">
      <nz-table
        #expandTable
        [nzData]="lstState"
        [nzFrontPagination]="false"
        [nzPageSize]="pageSize"
        [nzPageIndex]="pageNumber"
        [nzTotal]="totalPage"
        (nzPageIndexChange)="pageChange($event)"
        [nzFooter]="footer"
      >
        <thead>
          <tr>
            <th>STT</th>
            <th>Tên State</th>
            <th>Người sở hữu State</th>
            <th>Ghi chú</th>
            <th nzWidth="160px">Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of expandTable.data; let i = index">
            <td>{{ (pageNumber - 1) * pageSize + i + 1 }}</td>
            <td>
              <a (click)="routerLink(data.id)">{{ data.name }}</a>
            </td>
            <td>
              <span *ngIf="data.userHolder">{{
                data.userHolder.firstName + " " + data.userHolder.lastName
              }}</span>
            </td>
            <td>{{ data.description }}</td>
            <td>
              <button
                nz-button
                nzType="text"
                class="mr-1"
                title="Sửa"
                (click)="onEdit(data)"
              >
                <i nz-icon nzType="edit" nzTheme="outline"></i>
              </button>
              <button
                nz-button
                nzType="text"
                title="Xóa"
                (click)="onDelete(data)"
              >
                <i
                  nz-icon
                  nzType="delete"
                  nzTheme="outline"
                  class="text-danger"
                ></i>
              </button>
            </td>
          </tr>
        </tbody>
        <ng-template #footer>
          <span *ngIf="totalPage">Tổng {{ totalPage }} bản ghi</span>
        </ng-template>
      </nz-table>
    </div>
  </div>
</cms-page>
